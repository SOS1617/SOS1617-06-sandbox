<html ng-app="RESTClientApp">

<head>
    <title>Hello world!</title>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap-theme.min.css" type="text/css" />
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
    <script>
        /* global angular */
        var app = angular.module("RESTClientApp", []);
        console.log("App initialized");
        app.controller("MainCtrl", ["$scope", "$http", function($scope, $http) {
            console.log("Controller initialized");
            //$scope.test = "petete";
            $scope.url = "https://sos1617-06-md.herokuapp.com/api/v1/contacts";
            $scope.json = "{}";
            $scope.type = "GET";
            $scope.responsecode = "";
            $scope.responsecode
            $scope.send = function() {
                $http({
                    method: $scope.type,
                    url: $scope.url,
                    data: $scope.json,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }).then(function success(response) {
                    $scope.responsecode = "Response code: " + response.status;
                    $scope.responsecode
                    $scope.data = JSON.stringify(response.data, null, 2);
                }, function error(response) {
                    $scope.responsecode = "Response code: " + response.status;
                    $scope.data = response.data;
                });
            }
        }]);
    </script>
    <style>
        body {
            margin: 10px;
        }
        
        body {
            margin-top: 5px;
            margin-bottom: 5px;
        }
    </style>
</head>

<body ng-controller="MainCtrl">
    <h1>Hello World!</h1>
    <h2>REST Client</h2>
    <form class="form-horizontal">
        <div class="form-group">
            <label for="URL" class="col-sm-1 control-label">URL: </label>
            <div class="col-sm-11">
                <input value="" class="form-control" ng-model="url">
            </div>
        </div>
        <div class="form-group">
            <label for="URL" class="col-sm-1 control-label">JSON: </label>
            <div class="col-sm-11">
                <input value="{}" class="form-control" ng-model="json">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-1 col-sm-11">
                <label class="radio-inline">
                    <input type="radio" name="type" ng-model="type" value="GET"> GET
                </label>
                <label class="radio-inline">
                    <input type="radio" name="type" ng-model="type" value="POST"> POST
                </label>
                <label class="radio-inline">
                    <input type="radio" name="type" ng-model="type" value="PUT"> PUT
                </label>
                <label class="radio-inline">
                    <input type="radio" name="type" ng-model="type" value="DELETE"> PUT
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-1 col-sm-11">
                <button class="btn btn-danger" ng-click="send()">Send</button>
            </div>
        </div>
    </form>
    <!--<textarea rows=5 class="form-control" ng-model="test">...</textarea>-->
    <p>{{responsecode}}</p>
    <pre>{{data}}</pre>
</body>

</html>
